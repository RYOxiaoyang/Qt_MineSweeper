# Qt_MineSweeper
学习参考了CSDN用户Kam1d0ng的项目 做出了自己的改进

传送门：https://blog.csdn.net/Sun_candong/article/details/125704684
# 开发环境
1.开发工具：Qt6.8.0

2.开发语言：C++
# 主要文件含义
* miner.h与miner.cpp文件：地图砖块，每个格子状态等
* widget.h与widget.cpp文件：绘制地图信息（设置游戏数据，绘画场景，调用函数等）

# 技术要点
## 1. 数据更改

* 在miner.h头文件中创建了地图的行Row，列Col，以及地雷数miner_num等成员变量，在全局只有一份。
* 布雷位置：使用基本的随机算法rand，需要判断是否越界。当选中位置已布雷时需再次随机位置直到新位置可以布雷为止

* 游戏设置：
  - 内置了4种难度（简单，普通，困难，极难），每一个方格的值都被二级指针Map保存起来，方格代表的值不同会有不同含义
  - 游戏场景设置了不同难度下的固定大小

## 2. 图形绘画
* QPainter创建画家painter对象
* Qpixmap创建pix对象
* 使用painter将pix画入窗口中：
  - 因为图片资源中包含不同的游戏图标，因此绘画的时候按需要截取
  
  - 根据游戏胜利与否表情图标会有不同图标显现

## 3.无数字则扩展
* 如果点击的格子里不存在数字，就向周围3X3范围扩展，用了递归的方法实现

## 4.获胜与失败条件
* 获胜的判断条件：如果仍然存在未打开的方格或是旗子插错（用该方格的值做判断），则还未胜利，否则将胜利

* 失败的判断条件：点击到地雷则游戏失败

# 项目优化
* 菜单栏更改游戏难度使用的是信号槽机制，相较于参考项目可读性强，容易理解
* 对第一次点击消除该处地雷的语句判断进行了更改，确保更改后数字显示正确
* 对所有点击事件都添加了越界与判空操作，确保数据正常
* 对绝大部分代码进行了注释并附上了体会，显著降低了读者的阅读难度，便于读者学习参考

# 心得体会
* 进行赋值操作前都需要判断数据是否正确
* 递归算法能很好地解决探路等问题

